<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LiveHub • Free 18+ Live Cams</title>
  <meta name="description" content="Watch thousands of live cam girls in HD. Japanese, Asian, Teen, MILF, Anal – instant free streaming, no signup required."/>
  <link rel="preconnect" href="https://go.mnaspm.com"/>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <style>
    :root{--p:#ff2a6d;--bg:#050505;--card:#0f0f0f;--text:#e0e0e0;--gray:#888}
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,sans-serif;overflow-x:hidden}
    header{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(5,5,5,0.9);backdrop-filter:blur(16px);padding:14px 16px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #222}
    .logo{font-weight:900;font-size:24px;background:linear-gradient(90deg,#ff2a6d,#ff6b9d);background-clip:text;-webkit-background-clip:text;color:transparent}
    .search{flex:1;display:flex;border-radius:50px;overflow:hidden;background:#1a1a1a;box-shadow:0 8px 32px rgba(0,0,0,0.6)}
    #q{flex:1;padding:14px 20px;background:transparent;border:none;color:white;font-size:16px;outline:none}
    #go{background:var(--p);border:none;padding:0 24px;color:white;font-size:18px;cursor:pointer}

    .tags{padding:16px;overflow-x:auto;display:flex;gap:10px;margin-top:74px;background:#0a0a0a}
    .tag{padding:9px 18px;background:#222;border-radius:30px;font-size:14px;cursor:pointer;transition:.3s;white-space:nowrap}
    .tag.active,.tag:hover{background:var(--p);color:white}

    main{padding:20px 16px 100px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:14px}
    @media(min-width:640px){.grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}
    .card{position:relative;border-radius:16px;overflow:hidden;background:var(--card);box-shadow:0 10px 30px rgba(0,0,0,0.7);transition:.3s;cursor:pointer}
    .card:hover{transform:translateY(-8px);box-shadow:0 20px 40px rgba(255,42,109,0.3)}
    .thumb{width:100%;aspect-ratio:16/9;object-fit:cover;background:#000}
    .live-badge{position:absolute;top:8px;left:8px;background:#ff0000;color:white;padding:4px 10px;border-radius:8px;font-size:12px;font-weight:bold}
    .viewers{position:absolute;bottom:8px;left:8px;background:rgba(0,0,0,0.7);color:white;padding:4px 10px;border-radius:8px;font-size:12px}
    .info{padding:12px}
    .name{font-weight:700;font-size:15px;color:white;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .meta{font-size:13px;color:var(--gray);display:flex;align-items:center;gap:6px}

    /* Player Modal */
    #player{position:fixed;inset:0;background:#000;z-index:999;display:none;flex-direction:row}
    #mainVideo{flex:1;max-width:75%;background:#000}
    #sidebar{width:320px;background:#111;overflow-y:auto;padding:20px;display:none;flex-direction:column;gap:12px;max-height:100vh}
    .side-card{display:flex;gap:10px;cursor:pointer;padding:10px;border-radius:12px;transition:.2s}
    .side-card:hover{background:#222}
    .side-thumb{width:120px;height:68px;object-fit:cover;border-radius:8px}
    .side-info{flex:1}
    .side-name{font-size:14px;color:white;font-weight:600}
    .side-meta{font-size:12px;color:#aaa;display:flex;flex-direction:column;gap:2px}
    .side-flag{width:16px}
    #closePlayer{position:absolute;top:20px;right:20px;font-size:40px;color:white;cursor:pointer;z-index:1000}

    /* Discord */
    .discord{position:fixed;bottom:24px;right:24px;width:64px;height:64px;background:#5865F2;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;color:white;box-shadow:0 8px 30px rgba(88,101,242,0.6);animation:pulse 2s infinite;z-index:99;cursor:pointer}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(88,101,242,.7)}70%{box-shadow:0 0 0 15px rgba(88,101,242,0)}100%{box-shadow:0 0 0 0 rgba(88,101,242,0)}}
    #discordPop{display:none;position:fixed;bottom:100px;right:24px;background:#5865F2;color:white;padding:16px 20px;border-radius:16px;max-width:260px;box-shadow:0 10px 40px rgba(0,0,0,0.6);z-index:98;font-size:15px;text-align:center}
    #discordPop a{color:white;text-decoration:underline;font-weight:bold}

    .loading{text-align:center;padding:80px 20px;font-size:18px;color:#555}
    .error{text-align:center;padding:80px 20px;font-size:18px;color:#ff3366}
  </style>
</head>
<body>

<header>
  <div class="logo">LiveHub</div>
  <div class="search">
    <input type="text" id="q" placeholder="asian • teen • milf • anal • japanese • feet"/>
    <button id="go">Search</button>
  </div>
</header>

<div class="tags" id="tags"></div>
<main><div id="grid" class="grid"><div class="loading">Loading hottest cams...</div></div></main>

<!-- Player -->
<div id="player">
  <div id="closePlayer">×</div>
  <video id="mainVideo" controls autoplay playsinline></video>
  <div id="sidebar"></div>
</div>

<!-- Discord -->
<div class="discord" onclick="window.open('https://discord.gg/jmCtVwvbqr','_blank')">
  <i class="fab fa-discord"></i>
</div>
<div id="discordPop">
  Join 10k+ members!<br>
  <a href="https://discord.gg/jmCtVwvbqr" target="_blank">discord.gg/jmCtVwvbqr</a>
</div>

<script>
const API = "https://go.mnaspm.com/api/models";
let currentTag = "girls/japanese";
let allModels = [];

const hotTags = [
  "girls/japanese","girls/asian","girls/teen","girls/milf","girls/latina","girls/ebony",
  "girls/anal","girls/squirt","girls/bigboobs","girls/feet","girls/cosplay","girls/lesbian",
  "girls/bbw","girls/redhead","girls/mature","girls/smalltits","girls/tattoo","girls/pantyhose"
];

function initTags(){
  const c = document.getElementById("tags");
  hotTags.forEach(t=>{
    const b=document.createElement("div");b.className="tag";
    b.textContent = t.replace("girls/","").replace("/"," ");
    b.onclick=()=>{ 
      document.querySelectorAll(".tag").forEach(x=>x.classList.remove("active")); 
      b.classList.add("active"); 
      currentTag=t; 
      load(); 
    };
    if(t===currentTag) b.classList.add("active");
    c.appendChild(b);
  });
}

async function load(){
  const g=document.getElementById("grid"); 
  g.innerHTML=`<div class="loading">Loading live cams...</div>`;
  const p=new URLSearchParams({landing:"WidgetV4Universal",tag:currentTag,quality:"240p",sortBy:"paidUsers",stripcashR:"0",forceClient:"1",modelPromotion:"0",limit:"80"});
  try{
    const r=await fetch(`${API}?${p}`);
    if(!r.ok) throw new Error(`HTTP ${r.status}`);
    const d=await r.json();
    allModels = d.models || [];
    if(allModels.length === 0){
      g.innerHTML = `<div class="error">No live models found for "${currentTag}". Try another tag!</div>`;
      return;
    }
    renderGrid(allModels);
  }catch(e){ 
    console.error("API Error:", e);
    g.innerHTML=`<div class="error">Failed to load cams. Check console or try refresh.</div>`; 
  }
}

function renderGrid(models){
  const g=document.getElementById("grid"); g.innerHTML="";
  models.forEach(m=>{
    const c=document.createElement("div"); c.className="card";
    c.onclick=()=>openPlayer(m, models);
    const flag = m.modelsCountry?`https://flagcdn.com/32x24/${m.modelsCountry}.png`:"";
    const v=(m.viewersCount||0).toLocaleString();
    const thumb=m.snapshotUrl||m.widgetPreviewUrl||"https://via.placeholder.com/400x225/111/fff?text=LIVE";
    c.innerHTML=`
      <img class="thumb" src="${thumb}" loading="lazy" onerror="this.src='https://via.placeholder.com/400x225/111/fff?text=LIVE'">
      <div class="live-badge">LIVE</div>
      <div class="viewers">${v} watching</div>
      <div class="info">
        <div class="name">${m.username||'Live Girl'}</div>
        <div class="meta">
          ${flag?`<img src="${flag}" style="width:20px">`:''} ${m.modelsCountry?.toUpperCase()||'??'}
        </div>
      </div>
    `;
    g.appendChild(c);
  });
}

function openPlayer(current, list){
  const video=document.getElementById("mainVideo");
  const sidebar=document.getElementById("sidebar");
  const player=document.getElementById("player");
  player.style.display="flex";
  sidebar.style.display="flex";
  sidebar.innerHTML="";

  // Main stream
  const url = current.stream?.urls?.original || current.stream?.urls?.["480p"] || current.stream?.urls?.["240p"] || current.stream?.url;
  if(!url){
    alert("Stream offline – try another model!");
    closePlayer();
    return;
  }
  if(Hls.isSupported()){
    if(video.hls) video.hls.destroy(); // Clean up previous
    const h=new Hls(); 
    h.loadSource(url); 
    h.attachMedia(video);
    h.on(Hls.Events.MANIFEST_PARSED,()=>video.play().catch(e=>console.warn("Play failed:",e)));
    video.hls = h;
  }else if(video.canPlayType('application/vnd.apple.mpegurl')){
    video.src=url; 
    video.play().catch(e=>console.warn("Play failed:",e));
  }else{
    alert("HLS not supported in this browser");
    closePlayer();
    return;
  }

  // Next 10 suggestions with full info
  const others = list.filter(x=>x.id!==current.id).slice(0,10);
  others.forEach(m=>{
    const div=document.createElement("div"); div.className="side-card";
    div.onclick=(e)=>{e.stopPropagation(); openPlayer(m,list);};
    const flag=m.modelsCountry?`https://flagcdn.com/24x18/${m.modelsCountry}.png`:"";
    const lang = m.languages?.[0] || "EN";
    div.innerHTML=`
      <img class="side-thumb" src="${m.snapshotUrl||m.widgetPreviewUrl||''}" onerror="this.src='https://via.placeholder.com/120x68/222/fff?text=?'">
      <div class="side-info">
        <div class="side-name">${m.username}</div>
        <div class="side-meta">
          ${flag?`<img class="side-flag" src="${flag}">`:''} ${m.viewersCount||0} watching • ${lang}
        </div>
      </div>
    `;
    sidebar.appendChild(div);
  });
}

function closePlayer(){ 
  const player=document.getElementById("player");
  const video=document.getElementById("mainVideo");
  if(video.hls){ video.hls.destroy(); video.hls=null; }
  video.pause(); video.src="";
  player.style.display="none";
  sidebar.style.display="none";
}

document.getElementById("closePlayer").onclick=closePlayer;
player.onclick=(e)=>{if(e.target===player) closePlayer();};

document.getElementById("go").onclick=()=>{
  let q=document.getElementById("q").value.trim();
  if(q){ 
    currentTag = q.includes("/")?q:"girls/"+q.replace(" ",""); 
    load(); 
    document.querySelectorAll(".tag").forEach(x=>x.classList.remove("active")); 
  }
};
document.getElementById("q").addEventListener("keypress",e=>{if(e.key==="Enter")document.getElementById("go").click();});

initTags();
load();

// Discord popup every 10 min
setTimeout(()=>{
  document.getElementById("discordPop").style.display="block";
  setTimeout(()=>{document.getElementById("discordPop").style.display="none";},15000);
},600000);
</script>
</body>
</html>
