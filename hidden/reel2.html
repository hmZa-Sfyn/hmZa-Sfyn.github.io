<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LiveReels • Hot Live Girls</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
  :root{--p:#ff006e;--bg:#000}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--bg);color:white;font-family:system-ui;overflow:hidden;height:100vh;position:relative}
  
  #video{background:#000;width:100%;height:100%;object-fit:cover}
  
  .overlay{
    position:absolute;bottom:0;left:0;right:0;
    padding:100px 20px 120px;
    background:linear-gradient(transparent,#000);
    pointer-events:none;
  }
  .name{font-size:32px;font-weight:900;margin-bottom:8px;text-shadow:0 3px 20px #000}
  .info{font-size:20px;display:flex;align-items:center;gap:12px;text-shadow:0 2px 10px #000}
  
  .btns{
    position:absolute;top:20px;right:20px;display:flex;flex-direction:column;gap:14px;z-index:10}
  .btn{
    width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:50%;
    display:flex;align-items:center;justify-content:center;font-size:22px;
    backdrop-filter:blur(10px);cursor:pointer;transition:.3s
  }
  .btn:hover{background:var(--p);transform:scale(1.1)}
  
  .loading{
    position:absolute;inset:0;display:flex;flex-direction:column;
    align-items:center;justify-content:center;font-size:28px;background:#000;z-index:100
  }
  .spinner{margin-top:20px;width:60px;height:60px;border:6px solid #333;border-top:6px solid var(--p);border-radius:50%;animation:s 1s linear infinite}
  @keyframes s{to{transform:rotate(360deg)}}
  
  @media(max-width:768px){
    .name{font-size:26px}.info{font-size:18px}
    .btns{top:10px;right:10px}.btn{width:50px;height:50px;font-size:20px}
  }
</style>
</head>
<body>

<video id="video" playsinline autoplay muted></video>

<div class="overlay">
  <div class="name" id="name">Loading hot girl...</div>
  <div class="info" id="info">Please wait</div>
</div>

<div class="btns">
  <div class="btn" id="mute">Sound</div>
  <div class="btn" id="pip">PiP</div>
  <div class="btn" id="next">Next</div>
</div>

<div class="loading" id="loading">
  <div>Finding live girl...</div>
  <div class="spinner"></div>
</div>

<script>
// WORKING PROXY (free & fast)
const PROXY = "https://api.allorigins.win/raw?url=";
const API = "https://go.mnaspm.com/api/models";

let models = [];
let current = 0;
let hls = null;
const video = document.getElementById("video");

async function fetchModels() {
  try {
    const res = await fetch(PROXY + encodeURIComponent(API + "?landing=WidgetV4Universal&tag=girls/japanese&limit=200&quality=1080p"));
    const data = await res.json();
    models = data.models.filter(m => 
      m.stream?.urls?.original || m.stream?.urls?.["1080p"] || m.stream?.urls?.["720p"]
    );
    if (models.length === 0) throw "no streams";
    document.getElementById("loading").remove();
    playRandom();
  } catch(e) {
    document.getElementById("loading").innerHTML = "No connection<br>Refresh page";
  }
}

function getStream(m) {
  const u = m.stream?.urls || {};
  return u.original || u["1080p"] || u["720p"] || u["480p"];
}

function playRandom() {
  if (models.length === 0) return;
  current = Math.floor(Math.random() * models.length);
  play(models[current]);
}

function playNext() {
  current = (current + 1) % models.length;
  play(models[current]);
}

function play(model) {
  const url = getStream(model);
  document.getElementById("name").textContent = model.username || "Hot Girl";
  const flag = model.modelsCountry ? `https://flagcdn.com/48x36/${model.modelsCountry.toLowerCase()}.png` : "";
  document.getElementById("info").innerHTML = `
    ${flag ? `<img src="${flag}" style="height:22px;border-radius:4px">` : ''} 
    ${(model.viewersCount||0).toLocaleString()} watching • LIVE
  `;

  if (hls) hls.destroy();
  if (Hls.isSupported()) {
    hls = new Hls({ maxBufferLength: 15 });
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
  } else {
    video.src = url;
    video.play();
  }
}

// Buttons
document.getElementById("next").onclick = playNext;

document.getElementById("mute").onclick = () => {
  video.muted = !video.muted;
  document.getElementById("mute").textContent = video.muted ? "Sound" : "Sound Off";
};

document.getElementById("pip").onclick = () => video.requestPictureInPicture();

// Swipe / Scroll / Space / Arrow
video.onclick = playNext;
document.addEventListener("keydown", e => {
  if ([" ","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)) {
    e.preventDefault();
    playNext();
  }
});

let startY = 0;
video.addEventListener("touchstart", e => startY = e.touches[0].clientY);
video.addEventListener("touchend", e => {
  if (Math.abs(startY - e.changedTouches[0].clientY) > 80) playNext();
});

video.addEventListener("wheel", e => {
  if (Math.abs(e.deltaY) > 30) playNext();
});

// Start
fetchModels();
</script>
</body>
</html>
